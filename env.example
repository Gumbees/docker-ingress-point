# Docker Ingress Point - Environment Configuration
# Copy this file to .env and customize as needed

# Basic Configuration
CONTAINER_NAME_PREFIX=traefik
TZ=America/New_York
CONFIG_BASE=/data/traefik

# ===================================================================
# TRAEFIK CONFIGURATION  
# ===================================================================

# Traefik dashboard configuration
TRAEFIK_DASHBOARD_HOST=traefik.localhost
TRAEFIK_DASHBOARD_TLS=false

# Traefik logging and behavior
TRAEFIK_LOG_LEVEL=INFO
TRAEFIK_ACCESS_LOG=false

# Traefik API security (set to true for development, false for production)
TRAEFIK_INSECURE_API=false

# ===================================================================
# NETWORK CONFIGURATION
# ===================================================================

# Ingress network configuration (ipvlan for direct VLAN access)
# Adjust these values to match your network environment
INGRESS_PARENT_INTERFACE=bond0.180
INGRESS_SUBNET=192.168.180.0/24
INGRESS_GATEWAY=192.168.180.1

# Traefik container static IP address on ingress network
# Must be within the INGRESS_SUBNET range and not conflict with existing devices
TRAEFIK_IP=192.168.180.10

# External app networks (must be created beforehand):
# - media_center_apps: for media center services discovery by Traefik
# - immich-app-network: for Immich services discovery by Traefik  
# - containers_bastion: for Netbird VPN client networking
# Create with: docker network create <network-name>

# ===================================================================
# ACME / LET'S ENCRYPT CONFIGURATION
# ===================================================================

# ACME (Let's Encrypt) configuration
ACME_EMAIL=your-email@example.com

# ACME CA Server (use staging for testing, production for live certificates)
# Staging: https://acme-staging-v02.api.letsencrypt.org/directory
# Production: https://acme-v02.api.letsencrypt.org/directory
ACME_CA_SERVER=https://acme-staging-v02.api.letsencrypt.org/directory

# Cloudflare API credentials for DNS challenge
# IMPORTANT: Choose ONE of the two methods below

# ===================================================================
# METHOD 1: API TOKEN (RECOMMENDED - More Secure)
# ===================================================================
# Create an API token at: https://dash.cloudflare.com/profile/api-tokens
# Token permissions needed:
#   - Zone:Zone:Read (for all zones)
#   - Zone:DNS:Edit (for the specific zone or all zones)
# 
# If you have this token, use it and leave the Global API Key section empty:
CF_DNS_API_TOKEN=

# ===================================================================
# METHOD 2: GLOBAL API KEY (Less Secure, but simpler)
# ===================================================================
# Only use this if you can't create an API token
# Find your Global API Key at: https://dash.cloudflare.com/profile/api-tokens
CF_API_EMAIL=your-cloudflare-email@example.com
CF_API_KEY=your-cloudflare-global-api-key

# Volume Configuration (Optional)
ACME_VOLUME_TYPE=
ACME_VOLUME_OPTIONS=

# Alternative volume configurations (examples):
# For bind mounts:
# ACME_VOLUME_TYPE=none
# ACME_VOLUME_OPTIONS=bind

# For NFS mounts:
# ACME_VOLUME_TYPE=nfs
# ACME_VOLUME_OPTIONS=addr=192.168.1.100,rw,nfsvers=4

# ===================================================================
# VOLUME CONFIGURATION
# ===================================================================
# All volume configuration is handled via the ACME section above.
# Additional volumes can be configured by adding VOLUME_TYPE and VOLUME_OPTIONS
# variables following the same pattern as ACME volumes.

# ===================================================================
# NETBIRD VPN CONFIGURATION
# ===================================================================

# Netbird VPN client configuration
# Get your setup key from the Netbird management console when adding a new peer
NETBIRD_SETUP_KEY=your-netbird-setup-key-here

# Optional: Custom hostname for this netbird peer (defaults to container hostname)
NETBIRD_HOSTNAME=

# Optional: Netbird logging level (debug, info, warn, error)
NETBIRD_LOG_LEVEL=info
